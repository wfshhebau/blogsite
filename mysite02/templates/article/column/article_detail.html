{% extends "article/base.html" %}
{% load static %}
{% block title %}article detail{% endblock %}
{% block content %}
<div>
    <header>
        <h1>{{ article.title}}</h1>
        <!--<p>{{ article.author }}</p>-->
        <p>{{ user.username }}</p>
        <p>{{ article.created }}</p>
    </header>

     <div style="margin-right:100px">
            {% if userinfo.photo %}
            <img src="{{ userinfo.photo | striptags }}"class="img-circle" width="270px" id="my_photo" name="user_face">
            {% else %}
            <img src="{% static 'images/newton.jpg' %}" class="img-circle" width="270px" id="default_photo" name="user_face">
            {% endif %}
     </div>

    <!--Markdown display settings-->
    <link rel="stylesheet" href="{% static 'editor/css/editormd.preview.min.css' %}">
    <div id="editormd-view">
        <textarea id="append-test" style="display:none">{{ article.body }}</textarea>
    </div>
</div>
    <!--Markdown display settings with scripts-->
    <script src='{% static "js/jquery.js" %}'></script>
    <script src="{% static 'editor/lib/marked.min.js' %}"></script>
    <script src="{% static 'editor/lib/prettify.min.js' %}"></script>
    <script src="{% static 'editor/lib/raphael.min.js' %}"></script>
    <script src='{% static "editor/lib/underscore.min.js" %}'></script>
    <script src='{% static "editor/lib/sequence-diagram.min.js" %}'></script>
    <script src='{% static "editor/lib/flowchart.min.js" %}'></script>
    <script src="{% static 'editor/lib/jquery.flowchart.min.js' %}"></script>
    <script src="{% static 'editor/editormd.js' %}"></script>

    <script type="text/javascript">
    $(function () {
        editormd.markdownToHTML("editormd-view",{
            htmlDecode: "style,script,iframe",
            emoji: true,
            taskList:true,
            tex:true,
            flowChart:true,
            sequenceDiagram:true,
        });
    });
    </script>
{% endblock %}